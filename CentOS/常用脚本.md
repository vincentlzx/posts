## deploy.sh

```shell
#!/bin/bash

COMMAND="$1"
PROJECT="$2"

if [[ "$COMMAND" != "start" ]] && [[ "$COMMAND" != "stop" ]] && [[ "$COMMAND" != "restart" ]]; then
	echo "Usage: $0 [start|stop|restart] [project]"
	exit 0
fi

# $0 表示脚本本身的文件名，获取当前脚本文件所在的目录的绝对路径
APP_BASE_PATH=$(cd `dirname $0`; pwd)

function start()
{
    # -Xms分配堆最小内存，默认为物理内存的1/64；-Xmx分配最大内存，默认为物理内存的1/4 如果程序会崩溃请将此值调高
    nohup java -Dfile.encoding=utf-8 -Xms128m -Xmx512m -jar $PROJECT >> /dev/null 2>&1 &
    echo "--------$PROJECT 项目启动成功--------"
}

function stop()
{
    # 精准匹配包含$PROJECT变量和java和排除grep的行，使用 awk 命令提取结果中的第二列，即进程ID
    P_ID=`ps -ef | grep -w $PROJECT | grep -w java | grep -v "grep" | awk '{print $2}'`
    echo "进程ID: $P_ID"
    # -z 检查变量是否为空
    if [ -z "$P_ID" ]; then
        echo "$PROJECT未运行，无需停止。"
    else
        kill -9 $P_ID
        echo "$PROJECT已停止。"
    fi
}

function restart()
{
    stop
    start
}

if [[ "$COMMAND" == "start" ]]; then
	start
elif [[ "$COMMAND" == "stop" ]]; then
    stop
else
    restart
fi

```

执行 `sh deploy.sh start project.jar` 即可启动 jar 包。